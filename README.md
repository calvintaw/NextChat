# NextChat

A full-stack Discord & Telegram inspired chat app built with [Next.js](https://nextjs.org/), [Tailwind CSS](https://tailwindcss.com/), [React](https://react.dev/), [postgres.js](https://github.com/porsager/postgres), and [Supabase](https://supabase.com/).

‚ö†Ô∏è **Note:** The README is outdated. A lot of the UI and functionalities have changed. New features have come out. Currently working on updating the doc.

## Table of Contents

- [Features](#features)
- [Tech Stack](#tech-stack)
- [Getting Started](#getting-started)
- [Environment Variables](#environment-variables)
- [Flaws / Bugs](#flaws--bugs)
---

## Features

- Instant messaging via supabase realtime
- Authentication via NextAuth.js
- online/offline status via supabase presence
- dark/light mode
- giving reactions to messages such as a "üëç" or a "‚ô•"
- media files - (sending image/s, audio files, and videos )
- Custom server creation
- User profile
- Play Tic-Tac-Toe with bot. (bot code written by AI as I don't know how)
- Built-in AI bot (calls DeepSeek through Hugging Face)

---

## Tech Stack

**Frontend:** Next.js (App Router), React, Tailwind CSS
**Backend:** Next.js API routes, postgres.js
**Database:** Supabase (PostgreSQL)
**Auth:** NextAuth.js

---

## Getting Started

### Prerequisites

- [Node.js](https://nodejs.org/) v18+
- [npm](https://www.npmjs.com/) or [yarn](https://yarnpkg.com/)
- A Supabase project with API keys

### Installation

```bash
git clone https://github.com/calvintaw/discord_clone.git
cd discord_clone
npm install
```

---

### Environment Variables

Create a `.env.local` file in the root folder and fill it out like this:

```env
AUTH_SECRET= # Added automatically by `npx auth`. Learn more: https://cli.authjs.dev

# GitHub login credentials for NextAuth.js
AUTH_GITHUB_ID=
AUTH_GITHUB_SECRET=

# Database and Supabase configuration
POSTGRES_URL=
POSTGRES_USER=
POSTGRES_HOST=
SUPABASE_JWT_SECRET=
POSTGRES_PRISMA_URL=
POSTGRES_PASSWORD=
POSTGRES_DATABASE=
SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
NEXT_PUBLIC_SUPABASE_URL=
SUPABASE_SERVICE_ROLE_KEY=
POSTGRES_URL_NON_POOLING=

# Node.js socket server URL
NEXT_PUBLIC_SOCKET_URL=

# Vercel environment variables
NEXTAUTH_SECRET=
NEXTAUTH_URL= # URL of your deployed site

# News API key (any free provider works)
NEWS_API_KEY=

# System/admin user details (used to reduce DB calls)
SYSTEM_USER_ID=
SYSTEM_USER_DISPLAY_NAME=
SYSTEM_USER_EMAIL=
SYSTEM_USER_IMAGE=
SYSTEM_USER_CREATED_AT=
SYSTEM_USER_USERNAME=
SYSTEM_CHATBOT_URL=
```

---

### Running Locally

```bash
npm run dev
```

Then open [http://localhost:3000](http://localhost:3000).

---

## Flaws

- No email verification
- No login rate limiting
- User IDs are visible in URLs (potential security issue)
- Code is messy in some files
- Probably more that I haven‚Äôt noticed yet

Comments like `// generated by chatgpt` exist in some files.
That just means I didn‚Äôt write that part, I had ChatGPT generate it for me either because I couldn‚Äôt figure it out at the time or I was being lazy

---

## My thoughts

I worked on this project for about 5-6 months. maybe less or more. I didn't work on it everyday though.

Now that it‚Äôs done, I have mixed feelings. It‚Äôs not some groundbreaking project; it‚Äôs basically another CRUD app with chat features. I don‚Äôt think it‚Äôs great, but I don‚Äôt hate it either, it‚Äôs somewhere in between.

I used ChatGPT for maybe around 5% of the project, mostly for SQL syntax or creating indexes. Later on, I started using it more when I got stuck, especially with React components and useEffects. At some point, I realized I was relying on it too much, and that‚Äôs not where I want to be.

My Next.js skills definitely improved, but my React fundamentals, or rather my logical thinking, still need work. I even failed to build a simple Snake game from scratch, ended up using code from a blog and patched it with ChatGPT‚Äôs help to make it work. I‚Äôm not exactly proud of that, but it is what it is.

This project has turned into a place where I experiment with everything I‚Äôve wanted to try and learn. 

---

### Credits

- **Stars background:** [Riley Pearce](https://codepen.io/riley-pearce/pen/OJWPjZM)
- **Icons / PNGs:** [Flaticon](https://www.flaticon.com/)

That‚Äôs all for now. Thank you for visting my repo!<br>
Feedback is always welcomed :)
